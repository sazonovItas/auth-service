{"name":"mixery","desc":"","tables":[{"name":"public.schema_migrations","type":"BASE TABLE","comment":"","columns":[{"name":"version","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"dirty","type":"boolean","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"schema_migrations_pkey","def":"CREATE UNIQUE INDEX schema_migrations_pkey ON public.schema_migrations USING btree (version)","table":"public.schema_migrations","columns":["version"],"comment":""}],"constraints":[{"name":"schema_migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"public.schema_migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.users","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"email","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"login","type":"varchar(80)","nullable":false,"default":null,"comment":""},{"name":"first_name","type":"varchar(20)","nullable":false,"default":"''::character varying","comment":""},{"name":"last_name","type":"varchar(20)","nullable":false,"default":"''::character varying","comment":""},{"name":"middle_name","type":"varchar(20)","nullable":false,"default":"''::character varying","comment":""},{"name":"avatar","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"users_pkey","def":"CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)","table":"public.users","columns":["id"],"comment":""},{"name":"users_email_key","def":"CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)","table":"public.users","columns":["email"],"comment":""},{"name":"users_login_key","def":"CREATE UNIQUE INDEX users_login_key ON public.users USING btree (login)","table":"public.users","columns":["login"],"comment":""}],"constraints":[{"name":"users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.users","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"users_email_key","type":"UNIQUE","def":"UNIQUE (email)","table":"public.users","referenced_table":"","columns":["email"],"referenced_columns":[],"comment":""},{"name":"users_login_key","type":"UNIQUE","def":"UNIQUE (login)","table":"public.users","referenced_table":"","columns":["login"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.verifications","type":"BASE TABLE","comment":"","columns":[{"name":"email","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"type","type":"varchar(25)","nullable":false,"default":null,"comment":""},{"name":"code","type":"varchar(10)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"expires_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"verifications_pkey","def":"CREATE UNIQUE INDEX verifications_pkey ON public.verifications USING btree (email)","table":"public.verifications","columns":["email"],"comment":""}],"constraints":[{"name":"verifications_email_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (email) REFERENCES users(email) ON UPDATE CASCADE ON DELETE RESTRICT","table":"public.verifications","referenced_table":"users","columns":["email"],"referenced_columns":["email"],"comment":""},{"name":"verifications_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (email)","table":"public.verifications","referenced_table":"","columns":["email"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.devices","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"device_token","type":"varchar(256)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":""}],"indexes":[{"name":"devices_pkey","def":"CREATE UNIQUE INDEX devices_pkey ON public.devices USING btree (id)","table":"public.devices","columns":["id"],"comment":""}],"constraints":[{"name":"devices_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE RESTRICT","table":"public.devices","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"devices_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.devices","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.access","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"device_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"token","type":"varchar(256)","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"expires_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"access_pkey","def":"CREATE UNIQUE INDEX access_pkey ON public.access USING btree (id)","table":"public.access","columns":["id"],"comment":""}],"constraints":[{"name":"access_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE RESTRICT","table":"public.access","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"access_device_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (device_id) REFERENCES devices(id) ON DELETE RESTRICT","table":"public.access","referenced_table":"devices","columns":["device_id"],"referenced_columns":["id"],"comment":""},{"name":"access_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.access","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.apps","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('app_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(256)","nullable":false,"default":null,"comment":""},{"name":"secret","type":"varchar(256)","nullable":false,"default":null,"comment":""},{"name":"scope","type":"varchar(25)","nullable":false,"default":"'userinfo'::character varying","comment":""}],"indexes":[{"name":"apps_pkey","def":"CREATE UNIQUE INDEX apps_pkey ON public.apps USING btree (id)","table":"public.apps","columns":["id"],"comment":""}],"constraints":[{"name":"apps_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.apps","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.verifications","columns":["email"],"cardinality":"Zero or one","parent_table":"public.users","parent_columns":["email"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (email) REFERENCES users(email) ON UPDATE CASCADE ON DELETE RESTRICT","virtual":false},{"table":"public.devices","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE RESTRICT","virtual":false},{"table":"public.access","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE RESTRICT","virtual":false},{"table":"public.access","columns":["device_id"],"cardinality":"Zero or more","parent_table":"public.devices","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (device_id) REFERENCES devices(id) ON DELETE RESTRICT","virtual":false}],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 16.2 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit","meta":{"current_schema":"public","search_paths":["itas","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
